# acornProject

# Íµ≠ÎÇ¥ Ïó¨Ìñâ Î£®Ìä∏ Í≥µÏú† Í≤åÏãúÌåê Î∞è Íµ≠ÎÇ¥ ÌñâÏÇ¨„ÉªÍ¥ÄÍ¥ëÏßÄ Ï∂îÏ≤ú ÏÇ¨Ïù¥Ìä∏

## ÌîÑÎ°úÏ†ùÌä∏ ÏÜåÍ∞ú

Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Îäî ÏÇ¨Ïö©ÏûêÎì§Ïù¥ Íµ≠ÎÇ¥ Ïó¨Ìñâ Î£®Ìä∏Î•º Í≥µÏú†ÌïòÍ≥†, Îã§ÏñëÌïú Íµ≠ÎÇ¥ ÌñâÏÇ¨, Í¥ÄÍ¥ëÏßÄ, Ï∂ïÏ†úÏóê ÎåÄÌïú Ï†ïÎ≥¥Î•º ÏñªÏùÑ Ïàò ÏûàÎäî ÌîåÎû´ÌèºÏûÖÎãàÎã§. ÏÇ¨Ïö©ÏûêÎì§ÏùÄ ÏûêÏú†Í≤åÏãúÌåêÏùÑ ÌÜµÌï¥ Ïó¨Ìñâ Í≤ΩÌóòÏùÑ ÎÇòÎàÑÍ≥†, Îã§Î•∏ ÏÇ¨ÎûåÎì§Ïù¥ Ï∂îÏ≤úÌïòÎäî Ïó¨ÌñâÏßÄÎ•º ÌÉêÏÉâÌï† Ïàò ÏûàÏäµÎãàÎã§.


## Ï£ºÏöî Í∏∞Îä•

- **Ïó¨Ìñâ Î£®Ìä∏ Í≥µÏú† Í≤åÏãúÌåê**: ÏÇ¨Ïö©ÏûêÎì§Ïù¥ ÏûêÏã†ÎßåÏùò Ïó¨Ìñâ Î£®Ìä∏Î•º Í≥µÏú†ÌïòÍ≥†, Îã§Î•∏ ÏÇ¨Ïö©ÏûêÎì§Ïùò Î£®Ìä∏Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§. 
- **ÏûêÏú†Í≤åÏãúÌåê**: Ïó¨ÌñâÏóê Í¥ÄÎ†®Îêú Îã§ÏñëÌïú Ï£ºÏ†úÎ°ú ÏûêÏú†Î°≠Í≤å ÏÜåÌÜµÌï† Ïàò ÏûàÎäî Í≥µÍ∞ÑÏûÖÎãàÎã§.
- **ÌñâÏÇ¨/Í¥ÄÍ¥ëÏßÄ/Ï∂ïÏ†ú Ï∂îÏ≤ú**: ÏµúÏã† Íµ≠ÎÇ¥ ÌñâÏÇ¨, Í¥ÄÍ¥ëÏßÄ, Ï∂ïÏ†ú Ï†ïÎ≥¥Î•º Ï†úÍ≥µÌïòÎ©∞ ÏÇ¨Ïö©ÏûêÎì§Ïù¥ Ï∂îÏ≤úÌïòÎäî Ïû•ÏÜåÎ•º ÏÜåÍ∞úÌï©ÎãàÎã§.
- **ÎåìÍ∏Ä Î∞è Ï¢ãÏïÑÏöî Í∏∞Îä•**: Í≤åÏãúÎ¨ºÏóê ÎåìÍ∏ÄÏùÑ Îã¨Í≥† Ï¢ãÏïÑÏöîÎ•º ÎàÑÎ•º Ïàò ÏûàÏñ¥ ÏÇ¨Ïö©Ïûê Í∞ÑÏùò ÏÉÅÌò∏ÏûëÏö©ÏùÑ Ï¥âÏßÑÌï©ÎãàÎã§.

git clone https://github.com/yeominhye/acornProject.git

## git Ï¥àÍ∏∞ ÏÑ§Ï†ï Î∞©Î≤ï üêá
‚Ö†. Fork : ÌåÄÌîÑÎ°úÏ†ùÌä∏ ( ÏßÄÍ∏à Ïù¥ ÌéòÏù¥ÏßÄ) Î•º forkÌïúÎã§ (Ìè¥Îçî Î≥µÎ∂ôÌïòÎäî ÎäêÎÇå)

-> fork ÌïòÎäî Ïù¥Ïú†Îäî? ÌåÄÌîÑÎ°úÏ†ùÌä∏Ïóê ÏßÅÏ†ëÏ†ÅÏù∏ ÏòÅÌñ• X. Ïã§ÏàòÎ°ú Ïò¨Î†§ÎèÑ ÌåÄÌîÑÎ°úÏ†ùÌä∏ Í∏∞Î°ùÏóê ÎÇ®ÏßÄ X


‚Ö°. clone : (Ìè¨ÌÅ¨Ìïú)Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨Î•º ÎÇ¥ Î°úÏª¨Ïóê Î≥µÏ†úÌïòÍ∏∞

   -> git clone URL

‚ÄÉ‚ÄÉ‚Ö∞. ÎÇ¥Í∞Ä ÏÇ¨Ïö©Ìï† Ìè¥ÎçîÏóê Îì§Ïñ¥Í∞ÄÏÑú Ïö∞ÌÅ¥Î¶≠ -> git bash here Î°ú cmd ÏºúÍ∏∞.
   
‚ÄÉ‚ÄÉ‚Ö±. git clone http://Ìè¨ÌÅ¨Ìïú ÎãπÏã†Ïùò Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨ URL // ÎØºÌòú Í±∞ X. ÏßÅÏ†ë Ìè¨ÌÅ¨Ìïú ÎãπÏã†Ïùò Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨ url
   
‚ÄÉ‚ÄÉ‚Ö≤. ÏûêÏã†Ïùò Î°úÏª¨ Ìè¥ÎçîÏóê Î≥µÏ†úÎêòÏóàÎäîÏßÄ ÌôïÏù∏ÌïòÍ∏∞. 


‚Ö¢. remote addÎ°ú ÌåÄ Î≤ÑÏ†Ñ Ïù¥Î†•ÎèÑ ÌôïÏù∏ÌïòÍ∏∞ 

 ‚ÄÉ-> git remote -v // Î¶¨Î™®Ìä∏Ï§ëÏù∏ Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨ ÌôïÏù∏

 ‚ÄÉ-> git remote add upstream(Ïù¥ Î∂ÄÎ∂ÑÏùÄ Î≥ÑÏπ≠.. ÏùºÎ∞òÏ†ÅÏúºÎ°ú ÏóÖÏä§Ìä∏Î¶ºÏúºÎ°ú ÏîÄ) URL

   $ git remote add upstream https://github.com/yeominhye/acornProject.git    <- Í∞ÄÏ†∏Îã§ Ïì∞ÏÑ∏Ïöî 



## project import Î∞©Î≤ïüê£
File > Import

Git > Projects from Git > next

clone URL

url : https://github.com/yeominhye/acornProject.git
next > next > finish

Î°úÍ∑∏Ïù∏ ÌïÑÏöîÌïòÎã§Î©¥
urlÏóê https://github.com/yeominhye/acornProject.git ÏûÖÎ†•

user : Î≥∏Ïù∏Ïùò ÍπÉÌóàÎ∏å ÏïÑÏù¥Îîî ex)gpdldydaoa99

password : Î≥∏Ïù∏Ïùò token(ÌÜ†Í∑ºÏùÑ Îã§Ïãú ÌôïÏù∏Ìï† Ïàò ÏóÜÏúºÎãà ÎßåÏïΩ Ï†ÄÏû•Ìï¥Îëî Í≤ÉÏù¥ ÏóÜÎã§Î©¥ ÌÜ†Í∑ºÏùÑ Ïû¨Î∞úÍ∏â Î∞õÍ≥† Íº≠ Ï†ÄÏû•Ìï¥ÎëêÍ∏∞)

Store in Secure Store Ï≤¥ÌÅ¨ÌïòÍ∏∞

## ‚òõ token Î∞úÍ∏â Î∞õÎäî Î∞©Î≤ï

- **Î≥∏Ïù∏ ÌîÑÎ°úÌïÑ** - Settings Developer settings - personal access tokens - ÌïÑÏöîÌïú Ìï≠Î™© Ï≤¥ÌÅ¨ÌïòÍ≥† ÌÜ†ÌÅ∞ ÎßåÎ£å Í∏∞Í∞Ñ ÏµúÎåÄÎ°ú ÏÑ§Ï†ïÌï¥ÎëêÍ∏∞(Î≥∏Ïù∏ ÏÑ†ÌÉù)

ÎßåÏïΩ ÎπÑÎ∞ÄÎ≤àÌò∏ ÌûåÌä∏Í∞Ä Ïïà ÎÇòÏò§Í≥† Î°úÍ∑∏Ïù∏ Ïã§Ìå®? Í∞ôÏùÄ Î¨∏Íµ¨Í∞Ä Îú¨Îã§Î©¥

-**1. ÌÜ†ÌÅ∞Ïù¥ ÎßåÎ£åÎêêÏùÑ ÏàòÎèÑ?** - ÌÜ†Í∑º Ïû¨Î∞úÍ∏â
   
-**2. stsÏóê Ïù¥ÎØ∏ Ï†ÄÏû•Îêú Í≥ÑÏ†ï Ï†ïÎ≥¥Í∞Ä ÏûàÏùÑ Ïàò ÏûàÏùå**

Preferences > General > Security > Secure Storage > contents > delete

ÏôºÏ™Ω Î©îÎâ¥Ïùò acornProject > Remotes > origin > Î∞ëÏóê ÏûàÎäî Í±∞ change Credentials

user(id), password(token) ÏûÖÎ†•ÌïòÎ©¥ Îê®


cloneÌï¥ÏÑú importÌï† Í≤ΩÏö∞ ÏóêÎü¨ Î∞úÏÉù

ÌîÑÎ°úÏ†ùÌä∏ Ìè¥Îçî Ïö∞ÌÅ¥Î¶≠ > configure > add Gradle Nature

üêπ Ïó¨Í∏∞ÍπåÏßÄ Ïûò Î∞õÏïÑÏôÄÏ°åÎã§Î©¥ branchÎ°ú ÏûëÏóÖÌï¥Ï£ºÏÑ∏Ïöî. üêπ


## git branch ÏÉùÏÑ± Î∞©Î≤ï

- project[acornProject Main] > team > switch to New branch

- Branch Name ÏÑ§Ï†ï(Î≥∏Ïù∏ ÏûëÏóÖ Ïù¥Î¶ÑÏúºÎ°ú Ìï¥Ï£ºÏÑ∏Ïöî)

- check out new branch ÏÑ†ÌÉùÌïòÎ©¥ branch ÏÉùÏÑ±Í≥º ÎèôÏãúÏóê Î∏åÎûúÏπò Ï†ÑÌôò

- project[acornProject Main] Ïó¨Í∏∞ Ïò§Î•∏Ï™ΩÏóê mainÏù¥ Î≥∏Ïù∏Ïù¥ ÏÑ§Ï†ïÌïú Ïù¥Î¶ÑÏúºÎ°ú Î∞îÍºàÎäîÏßÄ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.

- project[acornProject branchTest] Îì±

ü¶Ñ ÌòπÏùÄ terminalÏù¥ÎÇò gitbash/cmdÏóêÏÑúÎèÑ ÏûëÏóÖ Í∞ÄÎä•Ìï©ÎãàÎã§.


## pushÎ•º ÌïòÍ≥† Ïã∂Îã§Î©¥

- project Ïö∞ÌÅ¥Î¶≠ Team > Push branch 'ÏÉùÏÑ±Ìïú branch Ïù¥Î¶Ñ' > next > finish

- pushed to https://github.com/~~ ÌôïÏù∏

- Ìïú Î≤à ÌÖåÏä§Ìä∏ Ìï¥Î≥¥ÏãúÍ≥† githubÏóêÏÑú Ïûò Ïò¨ÎùºÍ∞îÎÇò ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî~!!

## DB Î≥µÎ∂ôÏö©
drop table usertbl;

drop table boardtbl;

drop table commenttbl;

drop table archivetbl;

drop table reporttbl;

drop table liketbl;

drop table pointtbl;

------------
--usertbl--

CREATE TABLE usertbl(

    userCode VARCHAR(255) PRIMARY KEY,
    
    userId VARCHAR(255) NOT NULL,
    
    userPw VARCHAR(255) NOT NULL,
    
    userName VARCHAR(255) NOT NULL,
    
    nickname VARCHAR(255) NOT NULL,
    
    userBirth DATE,
    
    userTel VARCHAR(20),
    
    userPoint INT DEFAULT 0
    
);


DELIMITER //

CREATE TRIGGER before_insert_usertbl

BEFORE INSERT ON usertbl FOR EACH ROW

BEGIN

    DECLARE next_userCode INT;
    
    SELECT COALESCE(MAX(CAST(SUBSTRING(userCode, 2) AS UNSIGNED)), 0) + 1 INTO next_userCode
    FROM usertbl;

    SET NEW.userCode = CONCAT('u', LPAD(next_userCode, 4, '0'));
    
END //

DELIMITER ;

DELIMITER //

CREATE TRIGGER before_insert_nickname_usertbl

BEFORE INSERT ON usertbl FOR EACH ROW

BEGIN

    DECLARE next_nickname INT;

    SELECT COALESCE(MAX(CAST(SUBSTRING(nickname, 2) AS UNSIGNED)), 0) + 1 INTO next_nickname
    FROM usertbl;

    SET NEW.nickname = CONCAT('n', LPAD(next_nickname, 4, '0'));
    
END //

DELIMITER ;

INSERT INTO usertbl (userId, userPw, userName, userTel)

VALUES ('example_id', 'example_pw', 'John Doe','010-1234-5678');

INSERT INTO usertbl (userId, userPw, userName, userTel)

VALUES ('1', '1', 'John 1','1');



------------
--boardtbl--

CREATE TABLE boardtbl(

   boardCode VARCHAR(255) PRIMARY KEY,
    
	userCode VARCHAR(255) NOT NULL,
 
   FOREIGN KEY (userCode)
   
   REFERENCES usertbl(userCode) 
   
   ON UPDATE CASCADE
   
   ON DELETE  NO ACTION,
   
   boardImgOrigin VARCHAR(255),
   
   boardImgReal VARCHAR(255),
   
   boardTitle VARCHAR(255) NOT NULL,
   
   boardContent LONGTEXT NOT NULL,

   boardTheme INT,
   
   boardTourdays INT,
   
	boardWritedate DATETIME NOT NULL,
 
   boardViews INT,
   
   boardPoint INT,
   
   boardType INT,
   
	boardRegion INT,
 
	days JSON
 
);


DELIMITER //

CREATE TRIGGER before_insert_boardtbl

BEFORE INSERT ON boardtbl FOR EACH ROW

BEGIN

    DECLARE next_board_code INT;
   
    SELECT COALESCE(MAX(CAST(SUBSTRING(boardCode, 2) AS UNSIGNED)), 0) + 1 INTO next_board_code
    FROM boardtbl;

    SET NEW.boardCode = CONCAT('b', LPAD(next_board_code, 4, '0'));
    
END //

DELIMITER ;




------------
--commenttbl--

CREATE TABLE commenttbl(

   commentCode VARCHAR(255) PRIMARY KEY,
    
   boardCode varchar(255),
   
   FOREIGN KEY (boardCode)
    
   REFERENCES boardtbl(boardCode) 
   
   ON UPDATE CASCADE
   
   ON DELETE CASCADE,
   
   userCode varchar(255),
   
   FOREIGN KEY (userCode)
   
   REFERENCES usertbl(userCode) 
   
   ON UPDATE CASCADE
   
   ON DELETE CASCADE,
   
   commentContent varchar(1600) NOT NULL,
   
   commentDate datetime
   
);

DELIMITER //

CREATE TRIGGER before_insert_commenttbl

BEFORE INSERT ON commenttbl FOR EACH ROW

BEGIN

    DECLARE next_comment_code INT;
    
    SELECT COALESCE(MAX(CAST(SUBSTRING(commentCode, 2) AS UNSIGNED)), 0) + 1 INTO next_comment_code
    FROM commenttbl;

    SET NEW.commentCode = CONCAT('c', LPAD(next_comment_code, 4, '0'));
    
END //

DELIMITER ;





------------
--pointtbl--

CREATE TABLE pointtbl(

    pointCode VARCHAR(255) PRIMARY KEY,
    
    userCode VARCHAR(255) NOT NULL,
    
    boardCode VARCHAR(255),
    
    pointStatus INT NOT NULL, -- 0: ÏÇ¨Ïö© 1: Ìè¨Ïù∏Ìä∏_Íµ¨Îß§ 2: ÌôòÍ∏â
    
    pointAmount int NOT NULL,
    
    pointDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
    
);

DELIMITER //

CREATE TRIGGER before_insert_pointtbl

BEFORE INSERT ON pointtbl FOR EACH ROW
BEGIN
    DECLARE next_pointCode INT;

    SELECT COALESCE(MAX(CAST(SUBSTRING(pointCode, 2) AS UNSIGNED)), 0) + 1 INTO next_pointCode
    FROM pointtbl;

    SET NEW.pointCode = CONCAT('p', LPAD(next_pointCode, 4, '0'));
    
END //

DELIMITER ;





------------
--liketbl--

CREATE TABLE liketbl(

   userCode VARCHAR(255) NOT NULL,
   
    FOREIGN KEY (userCode)
    
    REFERENCES usertbl(userCode) 
    
    ON UPDATE CASCADE
    
    ON DELETE CASCADE,
    
    boardCode VARCHAR(255) NOT NULL,
    
    FOREIGN KEY (boardCode)
    
    REFERENCES boardtbl(boardCode) 
    
    ON UPDATE CASCADE
    
    ON DELETE CASCADE
    
);



------------
--archivetbl--

CREATE TABLE archivetbl(

   archiveCode varchar(255) primary key,
   
    userCode VARCHAR(255) NOT NULL,
    
    FOREIGN KEY (userCode)
    
    REFERENCES usertbl(userCode) 
    
    ON UPDATE CASCADE
    
    ON DELETE CASCADE,
    
    boardCode VARCHAR(255) NOT NULL,
    
    FOREIGN KEY (boardCode)
    
    REFERENCES boardtbl(boardCode) 
    
    ON UPDATE CASCADE
    
    ON DELETE CASCADE
    
);

DELIMITER //

CREATE TRIGGER before_insert_archivetbl

BEFORE INSERT ON archivetbl FOR EACH ROW
BEGIN
    DECLARE next_archiveCode INT;

    SELECT COALESCE(MAX(CAST(SUBSTRING(archiveCode, 2) AS UNSIGNED)), 0) + 1 INTO next_archiveCode
    FROM archivetbl;

    SET NEW.archiveCode = CONCAT('a', LPAD(next_archiveCode, 4, '0'));
    
END //

DELIMITER ;




------------
--reporttbl--

CREATE table reporttbl(

   reportCode varchar(255) primary key,
   
   boardCode VARCHAR(255) NOT NULL,
   
   FOREIGN KEY (boardCode)
   
   REFERENCES boardtbl(boardCode) 
   
   ON UPDATE CASCADE
   
   ON DELETE CASCADE,
   
   reportingUserCode VARCHAR(255) NOT NULL,
   
   FOREIGN KEY (reportingUserCode)
   
   REFERENCES usertbl(userCode) 
   
   ON UPDATE CASCADE
   
   ON DELETE CASCADE,
   
   reportedUserCode VARCHAR(255) NOT NULL,
   
   FOREIGN KEY (reportedUserCode)
   
   REFERENCES usertbl(userCode) 
   
   ON UPDATE CASCADE
   
   ON DELETE CASCADE,
   
   reportDate datetime,
   
   reportContent varchar(255)
   
);

DELIMITER //

CREATE TRIGGER before_insert_reporttbl

BEFORE INSERT ON reporttbl FOR EACH ROW

BEGIN
    DECLARE next_reportCode INT;

    SELECT COALESCE(MAX(CAST(SUBSTRING(reportCode, 2) AS UNSIGNED)), 0) + 1 INTO next_reportCode
    FROM reporttbl;

    SET NEW.reportCode = CONCAT('r', LPAD(next_reportCode, 4, '0'));
    
END //

DELIMITER ;
